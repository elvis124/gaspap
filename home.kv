#: import main home
#: import ListAdapter kivy.adapters.listadapter.ListAdapter
#: import ListItemButton kivy.uix.listview.ListItemButton
Screenmanager:
    Homelogin:
    CustomerRegister:
    ShopRegister:
    OrderingScreen:
    ShopManager:

    
<Homelogin>:
    name: 'loginscreen'
    GridLayout:
        rows: 8
        size_hint: (1, 1)
        orientation: 'horizontal'
        canvas.before:
            Color:
                rgba: [.9,.9,.9,1]
            Rectangle:
                size: self.size
                pos: self.pos

        GridLayout:
            cols: 1
            padding: 60
            size_hint: (1,.1)
            canvas.before:
                Color:
                    rgba: [.9, .9, .9,1]
            Label:
                id: errortext
                color: [0,1,0,1]
                size_hint: (1, 1)
        BoxLayout:
            size_hint: (.3, 1)
            orientation: 'vertical'
            cols: 1
            padding: 10
            StackLayout:
                pos_hint: {'top':1}
                orientation: 'tb-lr'
                size_hint: (1, 1)
                spacing: 5
                canvas.before:
                    Color:
                        rgba: [.9,.9,.9,1]
                    Rectangle:
                        size: self.size
                        pos: self.pos
                Label:
                    text: 'buy or sell a gas at your comfort'
                    color: [.0, .4, .4,1]
                    font_size: 18
                    bold: True
                    size_hint:(1, .1)
                Label:
                    text: 'why G-Pap:'
                    font_size: 16
                    color: [.0, .4, .4,1]
                    size_hint: (1, .1)
                Label:
                    text: 'save time and compare prices'
                    font_size: 16
                    size_hint: (1, .1)
                    color: [.0, .4, .4,1]
                
                Label:
                    text: 'expand your portfolio. '
                    font_size: 16
                    size_hint: (1, .1)
                    color: [.0, .4, .4,1]
                

            GridLayout:
                orientation: 'horizontal'
                cols: 1
                size_hint: (1, .6)
                spacing: 10
                padding: 10
                StrokeaTextInput:
                    id: n_number
                    multline: False
                    height: '20dp'
                    size_hint:(5, .4)
                    hint_text: 'Phone number'
                    input_filter: 'int'
                    use_bubble: True



                StrokebTextInput: 
                    id: n_password
                    multline: False
                    height: '20dp'
                    size_hint:(5, .4)
                    password: True
                    hint_text: 'passowrd'



            GridLayout:
                cols: 1
                spacing: 20
                padding: 10
                background_color: [1,1,1,0]
                size_hint: (1, .3)
                canvas.before:
                    Color:
                        rgba: [1,1,1,0]
                    Rectangle:
                        size: self.size
                        pos: self.pos
                SmoothButton:
                    text: 'Signin'
                    id: signin
                    size_hint:(2, .3)
                    on_press: root.login()

            BoxLayout:
                size_hint:(1, .1)
            GridLayout:
                cols: 1
                size_hint: (1, .2)
                orientation: 'vertical'
                Button:
                    text: 'forgot password ?'
                    size_hint: (1, .2)
                    color: [.0, .4, .4,1]
                    background_color: (0,0,0,0)
                    on_press: root.password()
            BoxLayout:
                size_hint: (1, .3)
                padding: 10
                font_size: 10
                SmotButton:
                    text: 'you do not have account? sign up here'
                    color: [1,1,1,1]
                    size_hint: (1, 1)
                    on_press:root.regitser()
            BoxLayout:
                size_hint: (1, .5)

<CustomerRegister>:
    name: 'customerregistry'
    GridLayout:
        rows:6
        padding:10
        size_hint: (1, 1)
        canvas.before:
            Color:
                rgba: [.9,.9,.9,1]
            Rectangle:
                size: self.size
                pos: self.pos
        GridLayout:
            size_hint: (1, .2)
            cols: 1

        GridLayout:
            rows: 4
            size_hint: (1, .1)
            spacing: 0.5
            orientation: 'vertical'
            Label:
                text: 'This page is for the customers who would'
                font_size: 15
                color: [.0, .4,.4,1]
            Label:
                text: 'like to buy gas cylinder refill or both. or else'
                font_size: 15
                color: [.0, .4,.4,1]
            Label:
                text: 'use the back button to register retail shop'
                font_size: 15
                color: [.0, .4,.4,1]
        GridLayout:
            size_hint: (1, .07)
            cols: 1
            canvas.before:
                Color:
                    rgba: [.9,.9,.9,1]
                Rectangle:
                    size: self.size
                    pos: self.pos
            Label:
                id: succesinsertion
                text:''
                font_size: 20
                bold: True
                color: [.0, .4, .4, 1]
        StackLayout:
            cols: 1
            padding: 10
            orientation: 'lr-tb'
            size_hint: (1, .5)
            spacing: 10
            canvas.before:
                Color:
                    rgba: [.9, .9, .9,1]
                Rectangle:
                    size: self.size
                    pos: self.pos
            TextInput:
                id: n_email_address
                hint_text: 'email address'
                size_hint: (1, .2)
                border: [0,1,0,1]
                foreground_color: [.0, .4, .4,1]

            TextInput:
                id: n_phone_number
                hint_text: 'phone number'
                size_hint: (1, .2)
                input_filter: 'int'
                border: [0,1,0,1]
                foreground_color: [.0, .4, .4,1]

            TextInput:
                id: n_password
                password: True
                hint_text: 'password'
                size_hint: (1, .2)
                border: [0,1,0,1]
                foreground_color: [.0, .4, .4,1]

            TextInput:
                id: n_confirm_password
                password: True
                hint_text: 'confirm password'
                size_hint: (1, .2)
                use_bubble: True
                border: [0,1,0,1]
                foreground_color: [.0, .4, .4,1]

        StackLayout:
            cols: 2
            padding: 10
            size_hint: (1, .2)
            orientation: 'lr-tb'
            spacing: 1.5
            BackButton:
                text: 'Back'
                size_hint: (.5, .6)
                on_press: root.back()
                border_radius: [20,2,2,20]
            RegisterButton:
                text: 'Register'
                size_hint: (.5, .6)
                border_radius: [2,20,20,2]
                on_press: root.register()
        GridLayout:
            cols: 1
            size_hint: (1, .2)



            
<ShopRegister>:
    name: 'shopregister'
    GridLayout:
        rows: 8
        orientation: 'vertical'
        size_hint: (1, 1)
        canvas.before:
            Color: 
                rgba: [.9,.9,.9,1]
            Rectangle:
                size: self.size
                pos: self.pos
        GridLayout:
            cols: 1
            size_hint: (1, .05)
        GridLayout: 
            cols:1
            orientation: 'vertical'
            size_hint: (1, .1)
            spacing: 10
            canvas.before:
                Color:
                    rgba: [.9, .9, .9,1]
                Rectangle:
                    size: self.size
                    pos: self.pos
            Label:
                text: 'this page is for shop owners who would like to'
                color: [.0, .4,.4,1]
            Label:
                text: 'register their shops to expand thier business'
                color: [.0, .4,.4,1]
            Label:
                text: 'to manage order online and distribute gas'
                color: [.0, .4,.4,1]
        GridLayout:
            cols: 1
            size_hint: (1, .05)

        GridLayout:
            cols: 1
            size_hint: (1, .3)
            spacing: 5
            padding: 10
            canvas.before:
                Color:
                    rgba: [.9, .9, .9, 1]
                Rectangle:
                    size: self.size
                    pos: self.pos
            TextInput:
                id: n_shop_name
                hint_text: 'shop name'
                use_bubble: True
                font_size: 12
                border: [0,1,0,1]
                foreground_color: [.0, .4, .4,1]
            TextInput:
                id: n_shop_owner
                hint_text: 'shop owner'
                use_bubble: True
                border: [0,1,0,1]
                foreground_color: [.0, .4, .4,1]

            TextInput:
                id: n_email_address
                hint_text: 'email address'
                use_bubble: True
                border: [0,1,0,1]
                foreground_color: [.0, .4, .4,1]


            TextInput:
                id: n_phone_number
                hint_text: 'phone number'
                input_filter: 'int'
                use_bubble: True
                border: [0,1,0,1]
                foreground_color: [.0, .4, .4,1]

        GridLayout:
            cols:2
            size_hint: (1, .2)
            spacing: 5
            padding: 10
            canvas.before:
                Color:
                    rgba: [.9, .9, .9, 1]
                Rectangle:
                    size: self.size
                    pos: self.pos
            TextInput:
                id: n_country
                hint_text: 'country'
                border: [0,1,0,1]
                foreground_color: [.0, .4, .4,1]

            TextInput:
                id: n_county
                hint_text: 'county'
                border: [0,1,0,1]
                foreground_color: [.0, .4, .4,1]

            TextInput:
                id: n_consituency
                hint_text: 'consituency'
                border: [0,1,0,1]
                foreground_color: [.0, .4, .4,1]

            TextInput:
                id: n_ward
                hint_text: 'ward'
                border: [0,1,0,1]
                foreground_color: [.0, .4, .4,1]

        GridLayout:
            cols:1
            size_hint: (1, .2)
            spacing: 5
            padding: 10
            canvas.before:
                Color:
                    rgba: [.9, .9, .9, 1]
                Rectangle:
                    size: self.size
                    pos: self.pos
            TextInput:
                id: n_password
                password:True
                hint_text: 'password'
                border: [0,1,0,1]
                foreground_color: [.0, .4, .4,1]

            TextInput:
                id: n_confirm_password
                password:True
                hint_text:'confirm passowrd'
                border: [0,1,0,1]
                foreground_color: [.0, .4, .4,1]

        GridLayout:
            cols: 2
            size_hint: (1,.1)
            padding: 10
            spacing: 5
            canvas.before:
                Color: 
                    rgba: [.9, .9, .9, 1]
                Rectangle:
                    size: self.size
                    pos: self.pos
            ShopregisterButton:
                text: 'Register'
                id: btnregister
                border_radius: [20,2,2,20]
                on_press: root.register()
            ShopbackButton:
                text:'back'
                id: btnnback
                on_press: root.back()
                border_radius: [2,20,20,2]
        GridLayout:
            cols: 1
            size_hint: (1, .05)

<SmoothButton@Button>:
    background_color:  [.0, .4, .4,1]
    background_color: (0,0,0,0)
    border_radius: [18]
    back_color: [.0, .4, .4,1]
    background_normal: ''
    canvas.before:
        Color: 
            rgba: self.back_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: self.border_radius
<SmotButton@Button>:
    background_color:  [.0, .4, .4,1]
    background_color: (0,0,0,0)
    border_radius: [18]
    back_color: [.0, .4, .4,1]
    background_normal: ''
    canvas.before:
        Color: 
            rgba: self.back_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: self.border_radius
<StrokeaTextInput@TextInput>:
    background_color: [1,1,1,0]
    border_radius: 20
    back_color: [.0, .4, .4,1]
    background_normal: ''
    canvas.before:
        Color: 
            rgba: self.back_color
        Line:
            rounded_rectangle: (self.pos[0], self.pos[1], self.size[0], self.size[1], self.border_radius)
            width: 1.2
<StrokebTextInput@TextInput>:
    background_color:  [1,1,1,0]
    border_radius: 20
    back_color: [.0, .4, .4,1]
    background_normal: ''
    canvas.before:
        Color: 
            rgba: self.back_color
        Line:
            rounded_rectangle: (self.pos[0], self.pos[1], self.size[0], self.size[1], self.border_radius)
            width: 1.2

<BackButton@Button>:
    background_color:  [.0, .4, .4,1]
    background_color: (0,0,0,0)
    border_radius: [20]
    back_color: [.0, .4, .4,1]
    background_normal: ''
    canvas.before:
        Color: 
            rgba: self.back_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: self.border_radius
<RegisterButton@Button>:
    background_color:  [.0, .4, .4,1]
    background_color: (0,0,0,0)
    border_radius: [20]
    back_color: [.0, .4, .4,1]
    background_normal: ''
    canvas.before:
        Color: 
            rgba: self.back_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: self.border_radius
<ShopregisterButton@Button>:
    background_color:  [.0, .4, .4,1]
    background_color: (0,0,0,0)
    border_radius: [20]
    back_color: [.0, .4, .4,1]
    background_normal: ''
    canvas.before:
        Color: 
            rgba: self.back_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: self.border_radius
<ShopbackButton@Button>:
    background_color:  [.0, .4, .4,1]
    background_color: (0,0,0,0)
    border_radius: [20]
    back_color: [.0, .4, .4,1]
    background_normal: ''
    canvas.before:
        Color: 
            rgba: self.back_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: self.border_radius

#screen for ordering
<OrderingScreen>:
    name: 'customerorderingscreen'
    GridLayout:
        rows: 5
        orientation: 'vertical'
        canvas.before:
            Color:
                rgba: [.9,9,.9,1]
            Rectangle:
                size: self.size
                pos: self.pos
        GridLayout:
            cols: 1
            size_hint: (1, .05)
            padding: 4
            spacing: 1.5
            orientation: 
            canvas.before:
                Color:
                    rgba: [.9,9,.9,1]
                Rectangle:
                    size: self.size
                    pos: self.pos
            Label:
                text: 'Fill in the information below and search ' 
                color: [.0, .4, .4,1]
        GridLayout:
            cols: 2
            size_hint: (1, .2)
            padding: 10
            spacing: 5
            orientation: 
            canvas.before:
                Color:
                    rgba: [1,1,1,0]
                Rectangle:
                    size: self.size
                    pos: self.pos
            Smooth1Button:
                id: n_type
                text: 'choose the type'
                size_hint: (1,.1)
                color: [.0, .4, .4,1]
                on_press: root.n_type()
            Smooth2Button:
                id: weight
                text: 'choose the weight'
                input_filter: 'int'
                values:  ['4', '6', '7', '8', '9', '10', '11', '12', '13', '14', '15', '16','17','18','19','20','21','22','23','24','25','26','27','28','29','30','31','32','33','34','35','36','37','38','39','40','41','42','43','44','45','46','47','48','49','50','51','52','53','54','55','56','57','58','59','60','61','62','63','64','65','66','67','68','69','70']
                size_hint: (1, .1)
                color: [.0, .4, .4,1]
            Smooth3Button:
                id: units
                text: 'choose the units'
                size_hint: (1, .1)
                input_filter: 'int'
                values: ['1', '2', '3', '4', '5', '6', '8', '10', '11', '12', '13','14', '15', '16', '17', '18', '19', '20']
                color: [.0, .4, .4,1]
            Stroke4TextInput:
                id: where_to
                hint_text: 'where to be delivered'
                size_hint: (1, .1)

        GridLayout:
            cols: 2
            size_hint: (1,.1)
            padding:10
            spacing: 2
            Smooth5Button:
                id: search
                text: 'Search'
                size_hint: (1, .05)
                border_radius:[18,18,2,2]
                on_press: root.search()
            Smooth6Button:
                id: n_my_activites
                text: 'My activities'
                size_hint: (1, .05)
                border_radius:[18,18,2,2]
                on_press: root.search()
        GridLayout:
            cols: 1
            size_hint: (1,.1)
            padding:2
            Label:
                text: 'press on the shop of your choice and send the order instantly'
                color: [.0, .4, .4,1]
                size_hint: (1, .05)
        ScrollView:
            size_hint: (1, .8)
            padding: 5
            bar_width: 3
            do_scroll_x: True
            do_scroll_y: True
            canvas.before:
                Rectangle:
                    size: self.size
                    pos: self.pos
            BoxLayout:
                cols: 1
                orientation: 'vertical'
                canvas.before:
                spacing: 3
                canvas.before:
                    Color:
                        rgba: [1,1,1,0]
                    Rectangle:
                        size: self.size
                        pos: self.pos
                ListView:
                    id: displayofshops
                    adapter:
                        ListAdapter(data=["Shop>     Petrol1     Type> Hashi price> 1000    distance>500 from you ","Shop> Petrol1 Type> Hashi price> 1000 distance>500 from you", "Shop> Petrol1 Type> Hashi price> 1000 distance>500 from you"], cls=main.Listbutton)


<Smooth1Button@Spinner>:
    background_color:  [1,1,1,0]
    border_radius: 20
    back_color: [.0, .4, .4,1]
    background_normal: ''
    canvas.before:
        Color: 
            rgba: self.back_color
        Line:
            rounded_rectangle: (self.pos[0], self.pos[1], self.size[0], self.size[1], self.border_radius)
            width: 1.2
<Smooth2Button@Spinner>:
    background_color:  [1,1,1,0]
    border_radius: 20
    back_color: [.0, .4, .4,1]
    background_normal: ''
    canvas.before:
        Color: 
            rgba: self.back_color
        Line:
            rounded_rectangle: (self.pos[0], self.pos[1], self.size[0], self.size[1], self.border_radius)
            width: 1.2
<Smooth3Button@Spinner>:
    background_color:  [1,1,1,0]
    border_radius: 20
    back_color: [.0, .4, .4,1]
    background_normal: ''
    canvas.before:
        Color: 
            rgba: self.back_color
        Line:
            rounded_rectangle: (self.pos[0], self.pos[1], self.size[0], self.size[1], self.border_radius)
            width: 1.2
<Stroke4TextInput@TextInput>:
    background_color:  [1,1,1,0]
    border_radius: 20
    back_color: [.0, .4, .4,1]
    background_normal: ''
    canvas.before:
        Color: 
            rgba: self.back_color
        Line:
            rounded_rectangle: (self.pos[0], self.pos[1], self.size[0], self.size[1], self.border_radius)
            width: 1.2
<Smooth5Button@Button>:
    background_color:  [1,1,1,0]
    border_radius: [18]
    back_color: [.0, .4, .4,1]
    background_normal: ''
    canvas.before:
        Color: 
            rgba: self.back_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: self.border_radius
<Smooth6Button@Button>:
    background_color:  [1,1,1,0]
    border_radius: [18]
    back_color: [.0, .4, .4,1]
    background_normal: ''
    canvas.before:
        Color: 
            rgba: self.back_color
        RoundedRectangle:
            size: self.size
            pos: self.pos
            radius: self.border_radius
            
#class for shopmanagement
<ShopManager>:
    name: 'shopmanagement'
    GridLayout:
        id: fullscreen
        orientation: 'vertical'
        size_hint: (1, 1)
        rows: 4
        canvas.before:
            Color:
                rgba: [.9, .9, .9,1]
            Rectangle:
                size: self.size
                pos: self.pos
        GridLayout:
            cols: 1
            size_hint: [1, .1]
            padding: 5
            spacing: 2
            canvas.before:
                Rectangle:
                    size: self.size
                    pos: self.pos
            Label:
                text: 'Manage your orders to make your customers happy by offering fast services'
                size_hint: (1, .05)
                font_size: 12
                color: [.0, .4, .4,1]
            Label:
                text: 'Manage your stocks by regulary updating your stocks'
                size_hint: (1, .05)
                font_size: 12
                color: [.0, .4, .4,1]
        GridLayout:
            id: actionbar
            cols: 3
            orientation: 'horizontal'
            size_hint: (1, .1)
            padding: 5
            spacing: 5
            canvas.before:
                Color:
                    rgba: [.9,.9,.9,1]
                Rectangle:
                    size: self.size
                    pos: self.pos
            OrdersButton:
                text: ' Manage Orders'
                color: [.0, .4, .4,1]
                on_press: root.orders()
            StockButton:
                text: 'Manage stocks '
                color: [.0, .4, .4,1]
                on_press:root.stock()
            LogoutButton:
                text: 'logout'
                color: [.0, .4, .4,1]
                on_press:root.logout()

        GridLayout:
            id: orderbuttons
            size_hint: (1, .1)
            cols: 3
            orientation: 'horizontal'
            padding: 10
            spacing: 5
            canvas.before:
                Color:
                    rgba: [.9,.9,.9,1]
                Rectangle:
                    size: self.size
                    pos: self.pos
        ScrollView:
            size_hint: (1, .9)
            padding: 2
            bar_color: [.0,.4,.4,1]
            bar_width: 3
            do_scroll_x: True
            do_scroll_y: True
            canvas.before:
                Rectangle:
                    size: self.size
                    pos: self.pos
            BoxLayout:
                cols: 1
                padding: 5
                spacing: 3
                background_color: [1,1,1,0]
                orientation: 'vertical'
                id: screenlayout
                canvas.before:
                    Color:
                        rgba: [.9, .9,.9,1]
                    Rectangle:
                        size: self.size
                        pos: self.pos





<SelectableButton>:
    canvas.before:
        Color:
            rgba: (.0, 0.9, .1, .3) if self.selected else (0, 0, 0, 1)
        Rectangle:
            pos: self.pos
            size: self.size


<OrdersButton@Button>:
    background_color:  [1,1,1,0]
    border_radius: 20
    back_color: [0,1,0,1]
    background_normal: ''
    canvas.before:
        Color: 
            rgba: self.back_color
        Line:
            rounded_rectangle: (self.pos[0], self.pos[1], self.size[0], self.size[1], self.border_radius)
<StockButton@Button>:
    background_color:  [1,1,1,0]
    border_radius: 20
    back_color: [0,1,0,1]
    background_normal: ''
    canvas.before:
        Color: 
            rgba: self.back_color
        Line:
            rounded_rectangle: (self.pos[0], self.pos[1], self.size[0], self.size[1], self.border_radius)


<LogoutButton@Button>:
    background_color:  [1,1,1,0]
    border_radius: 20
    back_color: [0,1,0,1]
    background_normal: ''
    canvas.before:
        Color: 
            rgba: self.back_color
        Line:
            rounded_rectangle: (self.pos[0], self.pos[1], self.size[0], self.size[1], self.border_radius)


